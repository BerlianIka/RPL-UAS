<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard BIMA</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <div class="dashboard-container">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <img src="assets/logo-bima.png" alt="Logo BIMA" class="logo" />
      <nav class="menu">
        <a href="#"><img src="assets/icon-dashboard.png" alt=""> Dashboard</a>
        <a href="#" ><img src="assets/icon-mahasiswa.png" alt=""> Mahasiswa</a>
        <a href="#"class="active"><img src="assets/icon-bimbingan.png" alt=""> Bimbingan</a>
      </nav>
      <a class="logout" href="#"><img src="assets/icon-logout.png" alt=""> Logout</a>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <header>
        <div></div>
        <div class="top-right-icons">
          <button class="icon-button"><i class="fa-solid fa-bell"></i></button>
          <img src="assets/dashboard-profile.png" alt="Profile" class="profile-image" />
        </div>
      </header>

      <section class="mahasiswa-section">
        <h2>Daftar Mahasiswa Bimbingan</h2>

        <div class="total-box">
          <div>
            <div>Proses Bimbingan</div>
            <h1>20</h1>
          </div>
          <img src="assets/icon-prosesbimbingan.png" alt="icon" />
        </div>

        <div class="search-bar">
          <input type="text" placeholder="Cari Mahasiswa..." />
          <button><i class="fa fa-search"></i> Search</button>
        </div>

        <div class="table-container">
          <table class="data-table">
          <thead>
            <tr>
              <th>No</th>
              <th>NPM</th>
              <th>Nama</th>
              <th>Judul Skripsi</th>
              <th>Jenis Bimbingan</th>
              <th>Waktu Bimbingan</th>
              <th>Status</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody>
          <tr>
            <td>1</td>
            <td>23081010056</td>
            <td>Berlian Ika Isabela</td>
            <td>Website Gamifikasi SD</td>
            <td>Review Draft</td>
            <td>8 Juni 2025, 08:00</td>
            <td><span class="status pending">Menunggu</span></td>
            <td>
              <i class="fa fa-check icon-success"></i>
              <i class="fa fa-times icon-danger"></i>
              <a href="#" class="lihat-detail" data-status="Menunggu"
                data-nama="Berlian Ika Isabela"
                data-npm="23081010056"
                data-judul="Rancang Bangun Web Edukasi Anak SD menggunakan Pendekatan Gamifikasi untuk Meningkatkan Motivasi Belajar"
                data-metode="Review Draft"
                data-waktu="8 Juni 2025, 08:00"
                data-lampiran="23081010056_Draft BAB III.pdf">
                <i class="fa-solid fa-magnifying-glass"></i> Lihat Detail
              </a>
            </td>
           </tr>
          <tr>
            <td>2</td>
            <td>23081010061</td>
            <td>Lucky Fitrianda Wahyudi</td>
            <td>Sistem Rekomendasi Buku</td>
            <td>Offline Meet</td>
            <td>8 Juni 2025, 08:00</td>
            <td><span class="status pending">Menunggu</span></td>
            <td>
              <i class="fa fa-check icon-success"></i>
              <i class="fa fa-times icon-danger"></i>
              <a href="#" class="lihat-detail"
                data-status="Menunggu"
                data-nama="Lucky Fitrianda Wahyudi"
                data-npm="23081010061"
                data-judul="Sistem Rekomendasi Buku"
                data-metode="Offline Meet"
                data-waktu="8 Juni 2025, 08:00"
                data-lampiran="23081010061_Draft BAB III.pdf">
                <i class="fa-solid fa-magnifying-glass"></i> Lihat Detail
              </a>
            </td>
          </tr>
          <tr>
          <td>3</td>
          <td>23081010162</td>
          <td>Muhammad Irsyad Majid</td>
          <td>Aplikasi Keuangan Mahasiswa</td>
          <td>Online Meet</td>
          <td>8 Juni 2025, 08:00</td>
          <td><span class="status pending">Menunggu</span></td>
          <td>
            <i class="fa fa-check icon-success"></i>
            <i class="fa fa-times icon-danger"></i>
            <a href="#" class="lihat-detail"
              data-status="Menunggu"
              data-nama="Muhammad Irsyad Majid"
              data-npm="23081010162"
              data-judul="Aplikasi Keuangan Mahasiswa"
              data-metode="Online Meet"
              data-waktu="8 Juni 2025, 08:00"
              data-lampiran="23081010162_Draft BAB III.pdf">
              <i class="fa-solid fa-magnifying-glass"></i> Lihat Detail
            </a>
          </td>
        </tr>
          </tr>
          <tr>
            <td>4</td>
            <td>23081010075</td>
            <td>Salsabila Khairunnisa</td>
            <td>Pengenalan Angka Interaktif untuk Anak</td>
            <td>Review Draft</td>
            <td>7 Juni 2025, 13:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>5</td>
            <td>23081010123</td>
            <td>Farhan Pratama</td>
            <td>Chatbot Konseling Mahasiswa</td>
            <td>Online Meet</td>
            <td>7 Juni 2025, 13:00</td>
            <td><span class="status rejected">Ditolak</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>6</td>
            <td>23081010141</td>
            <td>Nurul Aulia Safitri</td>
            <td>Sistem Absensi Berbasis Lokasi</td>
            <td>Offline Meet</td>
            <td>5 Juni 2025, 09:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>7</td>
            <td>23081010189</td>
            <td>Rafi Alfarezi</td>
            <td>Aplikasi Pemantauan Tugas Harian</td>
            <td>Online Meet</td>
            <td>5 Juni 2025, 10:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>8</td>
            <td>23081010143</td>
            <td>Syifa Nadira</td>
            <td>Sistem Informasi Panti Asuhan</td>
            <td>Review Draft</td>
            <td>5 Juni 2025, 13:00</td>
            <td><span class="status rejected">Ditolak</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>9</td>
            <td>23081010047</td>
            <td>Fajar Nurrahman</td>
            <td>Sistem Tracking Skripsi Mahasiswa</td>
            <td>Offline Meet</td>
            <td>4 Juni 2025, 14:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>10</td>
            <td>23081010141</td>
            <td>Nurul Aulia Safitri</td>
            <td>Aplikasi Pembelajaran Matematika</td>
            <td>Offline Meet</td>
            <td>4 Juni 2025, 10:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>11</td>
            <td>23081010155</td>
            <td>Rani Maulidya</td>
            <td>Portal Beasiswa Mahasiswa</td>
            <td>Online Meet</td>
            <td>3 Juni 2025, 09:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>12</td>
            <td>23081010156</td>
            <td>Fikri Ramadhan</td>
            <td>Dashboard Monitoring Proyek</td>
            <td>Offline Meet</td>
            <td>3 Juni 2025, 13:00</td>
            <td><span class="status rejected">Ditolak</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>13</td>
            <td>23081010157</td>
            <td>Indah Puspita</td>
            <td>Aplikasi Manajemen UKM</td>
            <td>Review Draft</td>
            <td>2 Juni 2025, 09:00</td>
            <td><span class="status pending">Menunggu</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>14</td>
            <td>23081010158</td>
            <td>Aditya Nugraha</td>
            <td>Platform Kelas Online</td>
            <td>Offline Meet</td>
            <td>2 Juni 2025, 11:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>15</td>
            <td>23081010159</td>
            <td>Putri Azzahra</td>
            <td>Sistem Reservasi Kelas</td>
            <td>Online Meet</td>
            <td>1 Juni 2025, 10:00</td>
            <td><span class="status rejected">Ditolak</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>16</td>
            <td>23081010160</td>
            <td>Dina Novita</td>
            <td>Aplikasi Laporan Keuangan</td>
            <td>Review Draft</td>
            <td>1 Juni 2025, 13:00</td>
            <td><span class="status pending">Menunggu</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>17</td>
            <td>23081010161</td>
            <td>Yusuf Arifin</td>
            <td>Sistem Evaluasi Dosen</td>
            <td>Offline Meet</td>
            <td>31 Mei 2025, 09:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>18</td>
            <td>23081010162</td>
            <td>Nia Kurniawati</td>
            <td>Aplikasi Agenda Bimbingan</td>
            <td>Online Meet</td>
            <td>31 Mei 2025, 11:00</td>
            <td><span class="status rejected">Ditolak</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>19</td>
            <td>23081010163</td>
            <td>Rizky Septian</td>
            <td>Platform Tanya Jawab Kampus</td>
            <td>Review Draft</td>
            <td>30 Mei 2025, 10:00</td>
            <td><span class="status pending">Menunggu</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          <tr>
            <td>20</td>
            <td>23081010164</td>
            <td>Shafa Nuraini</td>
            <td>Monitoring Kehadiran Online</td>
            <td>Offline Meet</td>
            <td>30 Mei 2025, 13:00</td>
            <td><span class="status accepted">Diterima</span></td>
            <td>
              <a href="#"><i class="fa fa-search"></i> Lihat Detail</a>
            </td>
          </tr>
          </tbody>
            </tbody>
          </table>

          <div class="table-info">Menampilkan 1–20 dari 999 data</div>

          <div class="pagination">
            <button disabled>&lt;</button>
            <button>&gt;</button>
          </div>
        </div>
      </section>
    </main>
  </div>

<!-- Modal Menunggu -->
<div class="modal" id="modal-menunggu">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 class="modal-title">Detail Bimbingan</h2>
    <div class="modal-table">
      <div class="row"><div class="label">Nama</div><div class="value" id="nama">-</div></div>
      <div class="row"><div class="label">NPM</div><div class="value" id="npm">-</div></div>
      <div class="row"><div class="label">Judul Skripsi</div><div class="value" id="judul">-</div></div>
      <div class="row"><div class="label">Metode Bimbingan</div><div class="value" id="metode">-</div></div>
      <div class="row"><div class="label">Waktu Bimbingan</div><div class="value" id="waktu">-</div></div>
      <div class="row lampiran-row">
        <div class="label">Lampiran</div>
        <div class="value"><span id="lampiran">-</span>
          <button class="download-btn" aria-label="Unduh Lampiran"><i class="fa fa-download"></i></button>
        </div>
      </div>
    </div>
    <div class="modal-buttons">
      <button class="reject">Tolak Permintaan</button>
      <button class="accept" id="terimaBtn">Terima Permintaan</button>
    </div>
  </div>
</div>

<!-- Modal Diterima -->
<div class="modal" id="modal-diterima">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 class="modal-title">Detail Bimbingan</h2>
    <div class="modal-table">
      <div class="row"><div class="label">Nama</div><div class="value" id="nama-diterima">-</div></div>
      <div class="row"><div class="label">NPM</div><div class="value" id="npm-diterima">-</div></div>
      <div class="row"><div class="label">Judul Skripsi</div><div class="value" id="judul-diterima">-</div></div>
      <div class="row"><div class="label">Metode Bimbingan</div><div class="value" id="metode-diterima">-</div></div>
      <div class="row"><div class="label">Waktu Bimbingan</div><div class="value" id="waktu-diterima">-</div></div>
      <div class="row lampiran-row">
        <div class="label">Lampiran</div>
        <div class="value"><span id="lampiran-diterima">-</span>
          <button class="download-btn" aria-label="Unduh Lampiran"><i class="fa fa-download"></i></button>
        </div>
      </div>
    </div>
    <div class="modal-buttons center">
      <button class="respond">Beri Tanggapan</button>
    </div>
  </div>
</div>
<!-- Modal Ditolak -->
<div class="modal" id="modal-ditolak">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2 class="modal-title">Detail Bimbingan</h2>
    <div class="modal-table">
      <div class="row"><div class="label">Nama</div><div class="value" id="nama-ditolak">-</div></div>
      <div class="row"><div class="label">NPM</div><div class="value" id="npm-ditolak">-</div></div>
      <div class="row"><div class="label">Judul Skripsi</div><div class="value" id="judul-ditolak">-</div></div>
      <div class="row"><div class="label">Metode Bimbingan</div><div class="value" id="metode-ditolak">-</div></div>
      <div class="row"><div class="label">Waktu Bimbingan</div><div class="value" id="waktu-ditolak">-</div></div>
      <div class="row lampiran-row">
        <div class="label">Lampiran</div>
        <div class="value"><span id="lampiran-ditolak">-</span>
          <button class="download-btn" aria-label="Unduh Lampiran"><i class="fa fa-download"></i></button>
        </div>
      </div>
    </div>
    <div class="modal-buttons center">
      <button class="respond">Lihat Alasan</button>
    </div>
  </div>
</div>

<!-- Modal Beri Tanggapan -->
<div class="modal" id="modal-komentar">
  <div class="modal-komentar-content">
    <span class="close close-komentar">&times;</span>
    
    <div class="komentar-header">
      <h3>Berlian Ika Isabela</h3>
      <p>23081010056</p>
      <p><strong>Draft BAB III</strong></p>
    </div>

    <div class="komentar-body">
      <!-- Contoh preview dokumen -->
      <iframe src="assets/Laporan Progress_Kelompok 6.pdf" class="preview-doc"></iframe>

      <!-- Komentar Box -->
      <div class="komentar-box">
        <div class="komentar-profile">
          <img src="assets/dashboard-profile.png" alt="Avatar">
          <span>Pratama Wirya Atmaja, S.Kom., M.Kom</span>
        </div>
        <textarea placeholder="Berikan komentar" id="input-komentar"></textarea>
        <div class="komentar-actions">
          <button class="btn-batal">Batal</button>
          <button class="btn-kirim">Kirim</button>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
  document.querySelectorAll('.lihat-detail').forEach(button => {
    button.addEventListener('click', function (e) {
      e.preventDefault();
      const status = this.dataset.status;

      const nama = this.dataset.nama;
      const npm = this.dataset.npm;
      const judul = this.dataset.judul;
      const metode = this.dataset.metode;
      const waktu = this.dataset.waktu;
      const lampiran = this.dataset.lampiran;

      const suffix = status === 'Menunggu' ? '' : '-' + status.toLowerCase();
      const modalId = status === 'Menunggu' ? 'modal-menunggu' :
                      status === 'Diterima' ? 'modal-diterima' :
                      status === 'Ditolak' ? 'modal-ditolak' : null;

      if (modalId) {
        document.getElementById(`nama${suffix}`).textContent = nama;
        document.getElementById(`npm${suffix}`).textContent = npm;
        document.getElementById(`judul${suffix}`).textContent = judul;
        document.getElementById(`metode${suffix}`).textContent = metode;
        document.getElementById(`waktu${suffix}`).textContent = waktu;
        document.getElementById(`lampiran${suffix}`).textContent = lampiran;

        document.getElementById(modalId).style.display = 'flex';
      }
    });
  });

  // Penutup modal
  document.querySelectorAll('.modal .close').forEach(closeBtn => {
    closeBtn.addEventListener('click', function () {
      this.closest('.modal').style.display = 'none';
    });
  });

  window.addEventListener('click', function (e) {
    document.querySelectorAll('.modal').forEach(modal => {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });
  });

  // Tombol Terima di Modal Menunggu → Modal Diterima
  const terimaBtn = document.getElementById('terimaBtn');
  if (terimaBtn) {
    terimaBtn.addEventListener('click', function () {
      document.getElementById('nama-diterima').textContent = document.getElementById('nama').textContent;
      document.getElementById('npm-diterima').textContent = document.getElementById('npm').textContent;
      document.getElementById('judul-diterima').textContent = document.getElementById('judul').textContent;
      document.getElementById('metode-diterima').textContent = document.getElementById('metode').textContent;
      document.getElementById('waktu-diterima').textContent = document.getElementById('waktu').textContent;
      document.getElementById('lampiran-diterima').textContent = document.getElementById('lampiran').textContent;

      document.getElementById('modal-menunggu').style.display = 'none';
      document.getElementById('modal-diterima').style.display = 'flex';
    });
  }


  // Tampilkan modal komentar ketika tombol "Beri Tanggapan" diklik
  document.querySelector('.respond')?.addEventListener('click', function () {
    document.getElementById('modal-diterima').style.display = 'none';
    document.getElementById('modal-komentar').style.display = 'flex';
  });

  // Tutup modal komentar
  document.querySelector('.close-komentar')?.addEventListener('click', function () {
    document.getElementById('modal-komentar').style.display = 'none';
  });

  document.querySelector('.btn-batal')?.addEventListener('click', function () {
    document.getElementById('modal-komentar').style.display = 'none';
  });

  document.querySelector('.btn-kirim')?.addEventListener('click', function () {
    const komentar = document.getElementById('input-komentar').value;
    if (komentar.trim() === "") {
      alert("Komentar tidak boleh kosong.");
    } else {
      alert("Komentar terkirim:\n" + komentar);
      document.getElementById('modal-komentar').style.display = 'none';
    }
  });
</script>

</body>
</html>
